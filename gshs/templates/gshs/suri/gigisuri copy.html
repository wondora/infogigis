{% extends 'base.html' %}

{% load static %}
{% load imagekit %}
{% load humanize %} 

{% block title %}Home Page {% endblock %}
{% block js %} 
<script type="text/javascript" src="{% static 'gshs/js/infogigis.js' %}"></script>   
{% endblock %}
{% block extra-style %} {% endblock %}

{% block content %}
<div class="table-title" style="float:left; width: 40%; display: inline-block;">
    <span>REPAIR</span>
</div>
<div style="display: inline-block; width: 60%;  text-align:right;">
    <form action="{% url 'gshs:search_suri' %}" method="get" style="display:inline-block;" >        
        <input style="height:36px;padding:0 10px;" type="text" name="word" class="form-class" value={{ word }}> 
        <button class="custom-btn" style="margin-top:2px;">
            <i class="fas fa-search"></i>
        </button> 
    </form>   
</div>

<div class="row" style="margin-top: 40px; border: 1px solid #ccc; padding:30px 20px;">
{% for item in object_list %}
    <div class="col-sm-6">
        <ul class='repair-photo'>               
            <li><span style="font-weight: bold; font-size: 15px; letter-spacing: 1px;">{{ item.infogigi }}</span>
                <span style="font-size: 13px; margin-left: 30px; letter-spacing: 1px;">
                    {{ item.created_date|date:'Y.m.d'}}
                </span>
            </li>   
            <hr style="margin-top:5px;">
            {% if item.photo_set.first.image %}
            <li>
                {% for photo in item.photo_set.all %}
                    <img src={{ photo.image.url }} width="200">
                {% endfor %}
            </li>
            {% endif %}        
            <li style="margin-top: 20px;">
                <p style="font-size: 15px; color: #bbb; letter-spacing: 2px;">원인</p> 
                <p class="repair-sub">{{ item.cause }}</p>
            </li>
            <li>
                <p style="font-size: 15px; color: #bbb; letter-spacing: 2px;">해결</p> 
                <p class="repair-sub">{{ item.result }}</p>                      
            <li>
                <p style="font-size: 15px; color: #bbb; letter-spacing: 2px;">수리비용</p>  
                <p class="repair-sub">&#8361; {{ item.price|intcomma }}</p>
            </li> 
            {% if item.bigo %}  
            <li>
                <P  class="repair-sub" style="border: 1px solid #bbb; padding: 10px;">{{ item.bigo }}</P>
            </li>  
            {% endif %}               
        </ul>
    </div>
{% empty %}
<div class="card" style="margin-top:50px;">
    <div class="card-header">
        Search Result
    </div>
    <div class="card-body" style="text-align:center;">
        <h2>검색 결과가 없습니다.</h2>            
    </div>
</div> 

{% endfor %}    
</div>

{% include 'gshs/snippet/_pagination.html' with page_obj=page_obj page_range=page_range %}

<div class="modal fade" id="{{ modal_gubun }}">
    <div class="modal-dialog">
        <div class="modal-content">
        </div>
    </div>
</div>

{% endblock content %}